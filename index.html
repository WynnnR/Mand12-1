<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mini Anki — Class</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <h1>Mini Anki — Class</h1>

  <!-- Student Login -->
  <section id="login">
    <h2>Enter Your Code</h2>
    <p class="help">Format: <code>Mand####</code> (e.g., Mand0372). No password needed.</p>
    <div class="controls">
      <input id="codeInput" placeholder="Mand0001" />
      <button id="loginBtn">Log In</button>
    </div>
  </section>

  <!-- Who am I -->
  <section id="whoami" style="display:none;">
    <div class="who">
      <strong>Logged in as:</strong> <span id="whoCode"></span>
      <button id="logoutBtn" class="secondary small">Log out</button>
    </div>
  </section>

  <!-- Study settings / daily quotas -->
  <section id="studyControls" style="display:none;">
    <h2>Study Settings</h2>
    <div class="controls">
      <label>Deck:
        <select id="deckSelect">
          <option value="ALL" selected>All (HSK 2 + HSK 3)</option>
          <option value="HSK2">HSK 2</option>
          <option value="HSK3">HSK 3</option>
          <option value="FULL">Full (alias of All)</option>
        </select>
      </label>
      <label>Mode:
        <select id="modeSelect">
          <option value="A" selected>Mode A: 20 new + 50 review (+ practice to 100)</option>
          <option value="B">Mode B: 20 new + 30 seen (or 50 seen if no new)</option>
        </select>
      </label>
    </div>
    <p id="quotaStatus" class="status">New left: — · Reviews left: — · Done: —/100</p>
  </section>

  <!-- Study -->
  <section id="study" style="display:none;">
    <h2>Study</h2>

    <!-- Session controls -->
    <div class="controls">
      <button id="startBtn">Start Session</button>
      <button id="showBtn" class="secondary" style="display:none;">Show Answer</button>
    </div>

    <!-- Flip card -->
    <div class="flip-card">
      <div class="flip-card-inner" id="flipInner">
        <div class="flip-card-face flip-card-front">
          <div id="cardFront" class="card"></div>
        </div>
        <div class="flip-card-face flip-card-back">
          <div id="cardBack" class="card"></div>
        </div>
      </div>
    </div>

    <!-- Rating buttons -->
    <div id="buttons" class="buttons" style="display:none;">
      <button class="again" id="btnAgain" title="Again (1)">Again</button>
      <button class="hard"  id="btnHard"  title="Hard (3)">Hard</button>
      <button class="good"  id="btnGood"  title="Good (4)">Good</button>
      <button class="easy"  id="btnEasy"  title="Easy (5)">Easy</button>
    </div>

    <p id="status" class="status"></p>
  </section>

  <footer>
    <small>Your data is linked to your class code on this device.</small>
  </footer>

  <!-- IMPORTANT: keep type="module" -->
  <script type="module" src="app.js?v=3"></script>
</body>
</html>
